---
import Anchor from "@/components/Anchor.astro";
import Icon from "@/components/Icon.astro";
---

<Anchor href="#home" class="go-up-btn">
  <Icon name="tabler-chevron-up" />
</Anchor>

<style>
  body {
    --button-inactive-value: none;
  }

  a {
    --separation: 24px;

    position: sticky;
    inset: var(--separation);
    border-radius: var(--border-radius-med);
    border: 1px solid var(--palette-grey);
    padding: 6px;
    width: fit-content;
    height: fit-content;
    transition: background-color 0.2s ease-in-out;
    place-self: end;
    display: var(--button-inactive-value);

    @media (pointer: fine) {
      &:hover {
        background-color: var(--palette-grey);
      }
    }

    @media (pointer: coarse) {
      bottom: 90%;
      background-color: color-mix(
        in srgb,
        transparent 10%,
        var(--current-background-theme)
      );
    }

    & > :global(svg) {
      height: 32px;
      width: 32px;
      color: var(--current-text-theme);
      display: block;
      stroke-width: 1.75px;
    }
  }

  @supports (animation-timeline: scroll()) {
    body {
      animation-timeline: scroll();
      animation-name: show-btn;
      animation-range: 0 124dvh;
      animation-fill-mode: forwards;
    }

    @keyframes show-btn {
      to {
        --button-inactive-value: block;
      }
    }
  }
</style>
